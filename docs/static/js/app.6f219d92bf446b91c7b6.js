webpackJsonp([1],{119:function(e,t,n){function a(e){n(170)}var i=n(280)(n(123),n(281),a,null,null);e.exports=i.exports},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(55),i=n.n(a),s=n(127),r=n.n(s),o=n(132),d=n.n(o),l=n(124);t.default={name:"app",data:function(){return{gameIsRunning:!1,message:"Glitchping by Mund",options:{paddles:[{loading:"waiting..."}]},paddles:[],gameMode:"default",render:"",paused:!1}},watch:{gameIsRunning:function(e){var t=this;if(e)this.render=new l.a(this.getOptions(),function(){t.gameIsRunning=!1},function(){t.paused=!0}),this.render.start();else{var n=this.render.game;n.winner.length>1?this.message=n.winner[0]+" and others won!üéâ":this.message=n.winner[0]+" won!üéâ"}return e},gameMode:function(e){this.getOptionsFromURL("./static/options/"+e+".json")},options:function(e){this.paddles=this.setPaddleOptions(e.paddles)},paused:function(e){e||this.render.unpause()}},methods:{addPlayer:function(){var e=d()({},this.paddles[0]);e.name=r()(" Player "+(this.paddles.length+1)),this.paddles.push(e)},getOptionsFromURL:function(e){var t=this;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.fetch)(e).then(function(e){return e.json()}).then(function(e){t.options=e}).catch(function(e){console.log(e)})},getOptions:function(){return{paddles:this.getPaddleOptions()}},getPaddleOptions:function(){return this.computePaddleOptions(this.paddles,JSON.parse)},setPaddleOptions:function(e){return this.computePaddleOptions(e,r.a)},computePaddleOptions:function(e,t){var n=[],a=e.map(function(e){return d()({},e)}),s=!0,r=!1,o=void 0;try{for(var l,u=i()(a);!(s=(l=u.next()).done);s=!0){var c=l.value;for(var h in c)c.hasOwnProperty(h)&&(c[h]=t(c[h]));n.push(c)}}catch(e){r=!0,o=e}finally{try{!s&&u.return&&u.return()}finally{if(r)throw o}}return n}},created:function(){this.getOptionsFromURL("./static/options/default.json")}}},124:function(e,t,n){"use strict";var a=n(55),i=n.n(a),s=n(133),r=n.n(s),o=n(130),d=n.n(o),l=n(131),u=n.n(l),c=n(246),h=(n.n(c),n(172)),p=n.n(h),v=n(171),g=n.n(v),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};for(d()(this,e),this.game=new p.a(t),this.stop=a,this.pause=i,this.firstRender=!0,this.multiplier=this.findSaveMultiplier.apply(this,r()(this.game.fieldSize).concat([screen.availWidth,screen.availHeight])),this.renderer=new c.autoDetectRenderer({width:screen.availWidth,height:screen.availHeight,backgroundColor:3355443}),this.touches=[],this.keys=[],this.actions=["up","down"],this.graphics=new c.Graphics,this.textContainer=new c.Container,this.stage=new c.Container,this.touchAreas=new c.Container,this.touchAreas.interactive=!0,this.addTouchAreas(),this.target=document.getElementById("canvas");this.target.firstChild;)this.target.removeChild(this.target.firstChild);this.fs=g()(this.target),window.addEventListener("resize",function(){n.multiplier=n.findSaveMultiplier.apply(n,r()(n.game.fieldSize).concat([screen.availWidth,screen.availHeight])),n.addTouchAreas(),n.renderer.resize(screen.availWidth,screen.availHeight)}),window.onkeyup=function(e){n.keys[e.keyCode]=!1},window.onkeydown=function(e){n.keys[e.keyCode]=!0}}return u()(e,[{key:"addTouchAreas",value:function(){var e=this,t={0:0,1:10,10:1,11:11};this.touchAreas.removeChildren();for(var n=0;n<this.game.paddles.length;n++)for(var a=0;a<this.actions.length;a++)!function(a){var i=parseInt(""+n+a),s=new c.Graphics,r=e.mp(e.game.fieldSize[0]/2,e.game.fieldSize[1]/2);s.hitArea=new c.Rectangle(n*r[0],a*r[1],n*r[0]+r[0],a*r[1]+r[1]),s.interactive=!0,e.touchAreas.addChild(s),s.on("touchstart",function(){screen.availWidth>screen.availHeight?e.touches[i]=!0:e.touches[t[i]]=!0}),s.on("touchend",function(){screen.availWidth>screen.availHeight?e.touches[i]=!1:e.touches[t[i]]=!1}),s.on("touchendoutside",function(){screen.availWidth>screen.availHeight?e.touches[i]=!1:e.touches[t[i]]=!1})}(a)}},{key:"findSaveMultiplier",value:function(e,t,n,a){return screen.availWidth>screen.availHeight?{x:n/e,y:a/t}:{x:a/e,y:n/t}}},{key:"mp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.multiplier;return screen.availWidth>screen.availHeight?[e*n.x,t*n.y]:[t*n.y,e*n.x]}},{key:"start",value:function(){var e=this;g.a.available()&&this.fs.request(),this.fs.on("release",function(){e.game.paused=!0,e.pause()}),this.target.appendChild(this.renderer.view),this.renderer.render(this.stage);!function t(){if(e.game.ended)e.fs.release(),e.fs.dispose(),e.stage.destroy(),e.stop();else{var n,a=[],s=!0,o=!1,d=void 0;try{for(var l,u=i()(e.game.paddles);!(s=(l=u.next()).done);s=!0){var h=l.value,p=!0,v=!1,g=void 0;try{for(var f,m=i()(h.controls);!(p=(f=m.next()).done);p=!0){var y=f.value;e.keys[y.key.toString()]&&a.push({paddle:h,action:y.action})}}catch(e){v=!0,g=e}finally{try{!p&&m.return&&m.return()}finally{if(v)throw g}}}}catch(e){o=!0,d=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw d}}for(var w=0;w<e.game.paddles.length;w++)for(var _=0;_<e.actions.length;_++){var C=parseInt(""+w+_);e.touches[C]&&a.push({paddle:e.game.paddles[w],action:e.actions[_]})}e.game.update(a),e.graphics.clear();for(var x=0;x<e.game.paddles.length;x++){var b=e.game.paddles[x],k=e.mp(b.pos[0],b.pos[1]+100),R=void 0;e.firstRender?(R=new c.Text(b.points,{fontFamily:"sarpanch",fontSize:10*e.multiplier.x,fill:16777215,stroke:16711680}),e.textContainer.addChild(R)):(R=e.textContainer.getChildAt(x),R.text=b.points),R.x=k[0],R.y=k[1]}e.firstRender=!1;var S=!0,M=!1,A=void 0;try{for(var P,O=i()(e.game.paddles);!(S=(P=O.next()).done);S=!0){var I,W=P.value;e.graphics.lineStyle(e.multiplier.x,16711680),e.graphics.beginFill(16777215),(I=e.graphics).drawRect.apply(I,r()(e.mp.apply(e,r()(W.pos))).concat(r()(e.mp.apply(e,r()(W.size)))))}}catch(e){M=!0,A=e}finally{try{!S&&O.return&&O.return()}finally{if(M)throw A}}e.graphics.lineStyle(e.multiplier.x,16711680),e.graphics.beginFill(16777215),(n=e.graphics).drawCircle.apply(n,r()(e.mp.apply(e,r()(e.game.ball.pos))).concat([e.game.ball.size/2*e.multiplier.x])),e.graphics.endFill(),e.stage.addChild(e.graphics),e.stage.addChild(e.textContainer),e.stage.addChild(e.touchAreas),window.requestAnimationFrame(t),e.renderer.render(e.stage)}}()}},{key:"unpause",value:function(){this.fs.request(),this.game.paused=!1}}]),e}();t.a=f},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(118),i=n.n(a),s=n(121),r=n(119),o=n.n(r),d=n(120),l=n.n(d);if("serviceWorker"in navigator){i.a.register()}s.a.use(l.a),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:o.a}})},170:function(e,t){},281:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.gameIsRunning,expression:"!gameIsRunning"}],staticClass:"screen",attrs:{id:"startScreen"}},[n("h1",[e._v(e._s(e.message))]),e._v(" "),n("button",{staticClass:"startGame button",on:{click:function(t){e.gameIsRunning=!0}}},[e._v("Play üïπÔ∏è")]),e._v(" "),n("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#settingScreen",expression:"'#settingScreen'"}],staticClass:"button",attrs:{id:"settingButton"}},[e._v("Settings üîé")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.gameIsRunning,expression:"!gameIsRunning"}],staticClass:"screen",attrs:{id:"settingScreen"}},[n("h1",[e._v("Settings üîé")]),e._v(" "),n("h2",[e._v("Game Modes üÉè")]),e._v(" "),n("form",{staticClass:"selecter",attrs:{id:"gameModes"}},[n("a",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.gameMode,expression:"gameMode"}],attrs:{id:"twin",type:"radio",name:"gamemode",value:"twin"},domProps:{checked:e._q(e.gameMode,"twin")},on:{__c:function(t){e.gameMode="twin"}}}),e._v(" "),n("label",{staticClass:"button",attrs:{for:"twin"}},[e._v("\n          Twin üëØ‚Äç\n        ")])]),e._v(" "),n("a",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.gameMode,expression:"gameMode"}],attrs:{type:"radio",id:"default",name:"gamemode",value:"default",checked:""},domProps:{checked:e._q(e.gameMode,"default")},on:{__c:function(t){e.gameMode="default"}}}),e._v(" "),n("label",{staticClass:"button",attrs:{for:"default"}},[e._v("\n          Default üòÉÔ∏è\n        ")])])]),e._v(" "),n("h2",[e._v("Advanced Settings üíª")]),e._v(" "),e.paddles[0]?n("div",{staticClass:"wrapper",attrs:{id:"playerSettings"}},[n("table",[n("tr",e._l(e.paddles[0],function(t,a){return n("th",[e._v("\n            "+e._s(a)+"\n          ")])})),e._v(" "),e._l(e.paddles,function(t){return n("tr",e._l(t,function(e,a){return n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t[a],expression:"paddle[key]"}],staticClass:"button",attrs:{type:"text"},domProps:{value:t[a]},on:{input:function(e){if(!e.target.composing){var n=t,i=a;Array.isArray(n)?n.splice(i,1,e.target.value):t[a]=e.target.value}}}})])}))})],2),e._v(" "),n("button",{staticClass:"button",on:{click:e.addPlayer}},[e._v("Add player")])]):e._e()]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.paused,expression:"paused"}],staticClass:"paused"},[n("h1",[e._v("The game is paused!")]),e._v(" "),n("button",{staticClass:"button pauseButton",attrs:{type:"button",name:"button"},on:{click:function(t){e.paused=!1}}},[e._v("Unpause")])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.gameIsRunning,expression:"gameIsRunning"}],attrs:{id:"canvas"}})])},staticRenderFns:[]}}},[125]);
//# sourceMappingURL=app.6f219d92bf446b91c7b6.js.map